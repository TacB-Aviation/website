"require"in window&&require("discourse/lib/theme-settings-store").registerSettings(11,{default_thumbnail_mode:"none",docs_thumbnail_mode:"none",blog_style_categories:"",minimal_grid_categories:"155|156|157|158|162|174|191|154|202",grid_categories:"202",masonry_categories:"",list_categories:"",blog_style_tags:"",minimal_grid_tags:"",grid_tags:"",masonry_tags:"",list_tags:"",suggested_topics_mode:"",enable_outside_topic_lists:!1,placeholder_icon:"comments",mobile_thumbnails:!0,list_thumbnail_size:200}),"define"in window&&define("discourse/theme-11/discourse/components/topic-list-thumbnail",["exports","@glimmer/component","@ember/service","discourse/helpers/cold-age-class","discourse/helpers/concat-class","discourse/helpers/d-icon","discourse/helpers/format-date","@ember/component","@ember/template-factory"],(function(t,i,e,s,o,n,l,a,r){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
const c=require("discourse/lib/theme-settings-store").getObjectForTheme(11)
class d extends i.default{static#t=(()=>dt7948.g(this.prototype,"topicThumbnails",[e.service]))()
#i=(()=>{dt7948.i(this,"topicThumbnails")})()
responsiveRatios=[1,1.5,2]
get displayWidth(){return this.topicThumbnails.displayList?c.list_thumbnail_size:400}get topic(){return this.args.topic}get hasThumbnail(){return!!this.topic.thumbnails}get srcSet(){const t=[]
return this.responsiveRatios.forEach((i=>{const e=i*this.displayWidth,s=this.topic.thumbnails.find((t=>t.url&&t.max_width===e))
s&&t.push(`${s.url} ${i}x`)})),0===t.length&&t.push(`${this.original.url} 1x`),t.join(",")}get original(){return this.topic.thumbnails[0]}get width(){return this.original.width}get isLandscape(){return this.original.width>=this.original.height}get height(){return this.original.height}get fallbackSrc(){const t=this.topic.thumbnails.filter((t=>!!t.url&&t.max_width>this.displayWidth*this.responsiveRatios.lastObject))
return t.lastObject?t.lastObject.url:this.original.url}get url(){return this.topic.get("linked_post_number")?this.topic.urlForPostNumber(this.topic.get("linked_post_number")):this.topic.get("lastUnreadUrl")}static#e=(()=>(0,a.setComponentTemplate)((0,r.createTemplateFactory)({id:null,block:'[[[1,"\\n    "],[10,0],[15,0,[28,[32,0],["topic-list-thumbnail",[52,[30,0,["hasThumbnail"]],"has-thumbnail","no-thumbnail"]],null]],[12],[1,"\\n      "],[10,3],[15,6,[30,0,["url"]]],[12],[1,"\\n"],[41,[30,0,["hasThumbnail"]],[[[1,"          "],[10,"img"],[14,0,"background-thumbnail"],[15,"src",[30,0,["fallbackSrc"]]],[15,"srcset",[30,0,["srcSet"]]],[15,"width",[30,0,["width"]]],[15,"height",[30,0,["height"]]],[14,"loading","lazy"],[12],[13],[1,"\\n          "],[10,"img"],[14,0,"main-thumbnail"],[15,"src",[30,0,["fallbackSrc"]]],[15,"srcset",[30,0,["srcSet"]]],[15,"width",[30,0,["width"]]],[15,"height",[30,0,["height"]]],[14,"loading","lazy"],[12],[13],[1,"\\n"]],[]],[[[1,"          "],[10,0],[14,0,"thumbnail-placeholder"],[12],[1,"\\n            "],[1,[28,[32,1],[[32,2,["placeholder_icon"]]],null]],[1,"\\n          "],[13],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n\\n"],[41,[30,0,["topicThumbnails","showLikes"]],[[[1,"      "],[10,0],[14,0,"topic-thumbnail-likes"],[12],[1,"\\n        "],[1,[28,[32,1],["heart"],null]],[1,"\\n        "],[10,1],[14,0,"number"],[12],[1,"\\n          "],[1,[30,0,["topic","like_count"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["topicThumbnails","displayBlogStyle"]],[[[1,"      "],[10,0],[14,0,"topic-thumbnail-blog-data"],[12],[1,"\\n        "],[10,0],[14,0,"topic-thumbnail-blog-data-views"],[12],[1,"\\n          "],[1,[28,[32,1],["eye"],null]],[1,"\\n          "],[10,1],[14,0,"number"],[12],[1,"\\n            "],[1,[30,0,["topic","views"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"topic-thumbnail-blog-data-likes"],[12],[1,"\\n          "],[1,[28,[32,1],["heart"],null]],[1,"\\n          "],[10,1],[14,0,"number"],[12],[1,"\\n            "],[1,[30,0,["topic","like_count"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"topic-thumbnail-blog-data-comments"],[12],[1,"\\n          "],[1,[28,[32,1],["comment"],null]],[1,"\\n          "],[10,1],[14,0,"number"],[12],[1,"\\n            "],[1,[30,0,["topic","reply_count"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[15,0,[28,[32,0],["topic-thumbnail-blog-data-activity","activity",[28,[32,3],[[30,0,["topic","createdAt"]]],[["startDate","class"],[[30,0,["topic","bumpedAt"]],""]]]],null]],[15,"title",[30,0,["topic","bumpedAtTitle"]]],[12],[1,"\\n          "],[10,3],[14,0,"post-activity"],[15,6,[30,0,["topic","lastPostUrl"]]],[12],[1,[28,[32,4],[[30,0,["topic","bumpedAt"]]],[["format","noTitle"],["tiny","true"]]]],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[],false,["if"]]',moduleName:"/discourse/theme-11/discourse/components/topic-list-thumbnail",scope:()=>[o.default,n.default,c,s.default,l.default],isStrictMode:!0}),this))()}t.default=d})),"define"in window&&define("discourse/theme-11/discourse/connectors/before-topic-list-body/topic-list-masonry-styles",["exports","@glimmer/component","@ember/service","ember-modifier","../../lib/masonry-calculator","@ember/component","@ember/template-factory"],(function(t,i,e,s,o,n,l){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(11)
class a extends i.default{static#t=(()=>dt7948.g(this.prototype,"topicThumbnails",[e.service]))()
#i=(()=>{dt7948.i(this,"topicThumbnails")})()
attachResizeObserver=(()=>(0,s.modifier)((t=>{const i=t.closest(".topic-list")
if(!i)return void console.error("topic-list-thumbnails resize-observer must be inside a topic-list")
this.topicThumbnails.masonryContainerWidth=i.getBoundingClientRect().width
const e=new ResizeObserver((()=>{this.topicThumbnails.masonryContainerWidth=i.getBoundingClientRect().width}))
return e.observe(i),()=>{e.disconnect(),this.topicThumbnails.masonryContainerWidth=null}})))()
get masonryStyle(){if(!this.topicThumbnails.displayMasonry)return
if(!this.topicThumbnails.masonryContainerWidth)return
const t=new o.default(this.topicThumbnails,this.args.outletArgs.topics,this.topicThumbnails.masonryContainerWidth)
return t.calculateMasonryLayout(),t.masonryStyle}static#e=(()=>(0,n.setComponentTemplate)((0,l.createTemplateFactory)({id:null,block:'[[[1,"\\n"],[41,[30,0,["topicThumbnails","displayMasonry"]],[[[1,"      "],[11,"style"],[4,[30,0,["attachResizeObserver"]],null,null],[12],[1,"\\n        "],[1,[30,0,["masonryStyle"]]],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[],false,["if"]]',moduleName:"/discourse/theme-11/discourse/connectors/before-topic-list-body/topic-list-masonry-styles",isStrictMode:!0}),this))()}t.default=a})),"define"in window&&define("discourse/theme-11/discourse/initializers/topic-thumbnails-init",["exports","@ember/object/computed","@ember/service","discourse/lib/api","../components/topic-list-thumbnail","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(t,i,e,s,o,n,l,a){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
const r=require("discourse/lib/theme-settings-store").getObjectForTheme(11)
t.default=(0,s.apiInitializer)("0.8",(t=>{const s=t.container.lookup("service:topic-thumbnails")
t.registerValueTransformer("topic-list-class",(t=>{let{value:i}=t
return s.displayMinimalGrid?i.push("topic-thumbnails-minimal"):s.displayGrid?i.push("topic-thumbnails-grid"):s.displayList?i.push("topic-thumbnails-list"):s.displayMasonry?i.push("topic-thumbnails-masonry"):s.displayBlogStyle&&i.push("topic-thumbnails-blog-style-grid"),i})),t.registerValueTransformer("topic-list-columns",(t=>{let{value:i}=t
return s.enabledForRoute&&!s.displayList&&i.add("thumbnail",{item:o.default},{before:"topic"}),i})),t.renderInOutlet("topic-list-before-link",(0,n.setComponentTemplate)((0,l.createTemplateFactory)({id:null,block:'[[[1,"\\n"],[41,[32,0,["displayList"]],[[[1,"        "],[8,[32,1],null,[["@topic"],[[30,1,["topic"]]]],null],[1,"\\n"]],[]],null],[1,"    "]],["@outletArgs"],false,["if"]]',moduleName:"/discourse/theme-11/discourse/initializers/topic-thumbnails-init",scope:()=>[s,o.default],isStrictMode:!0}),(0,a.default)())),t.registerValueTransformer("topic-list-item-mobile-layout",(t=>{let{value:i}=t
return!(s.enabledForRoute&&!s.displayList)&&i})),t.registerValueTransformer("topic-list-item-class",(t=>{let{value:i,context:{index:e}}=t
return s.displayMasonry&&i.push(`masonry-${e}`),i}))
const c=t.container.lookup("service:site-settings")
"none"!==r.docs_thumbnail_mode&&c.docs_enabled&&t.modifyClass("component:docs-topic-list",{pluginId:"topic-thumbnails",topicThumbnailsService:(0,e.service)("topic-thumbnails"),classNameBindings:["isMinimalGrid:topic-thumbnails-minimal","isThumbnailGrid:topic-thumbnails-grid","isThumbnailList:topic-thumbnails-list","isMasonryList:topic-thumbnails-masonry","isBlogStyleGrid:topic-thumbnails-blog-style-grid"],isMinimalGrid:(0,i.readOnly)("topicThumbnailsService.displayMinimalGrid"),isThumbnailGrid:(0,i.readOnly)("topicThumbnailsService.displayGrid"),isThumbnailList:(0,i.readOnly)("topicThumbnailsService.displayList"),isMasonryList:(0,i.readOnly)("topicThumbnailsService.displayMasonry"),isBlogStyleGrid:(0,i.readOnly)("topicThumbnailsService.displayBlogStyle")})}))})),"define"in window&&define("discourse/theme-11/discourse/lib/masonry-calculator",["exports","@ember/template"],(function(t,i){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
require("discourse/lib/theme-settings-store").getObjectForTheme(11)
t.default=class{masonryTargetColumnWidth=300
gridSpacingPixels=10
masonryTitleSpacePixels=76
masonryDefaultAspect=1.3
masonryMinAspect=.7
topics
masonryContainerWidth
constructor(t,i,e){this.topicThumbnails=t,this.topics=i,this.masonryContainerWidth=e}get numColumns(){return Math.floor(this.masonryContainerWidth/this.masonryTargetColumnWidth)}get columnWidth(){return(this.masonryContainerWidth-(this.numColumns-1)*this.gridSpacingPixels)/this.numColumns}calculateMasonryLayout(){const t=this.numColumns,i=this.gridSpacingPixels,e=[]
for(let i=0;i<t;i++)e[i]=0
this.topicData=this.topics.map((t=>{const s=e.indexOf(Math.min(...e))
let o=this.masonryDefaultAspect
t.thumbnails&&(o=t.thumbnails[0].width/t.thumbnails[0].height),o=Math.max(o,this.masonryMinAspect)
const n=this.columnWidth/o+this.masonryTitleSpacePixels,l={columnIndex:s,height:n,heightAbove:e[s]}
return e[s]+=n+i,l})),this.tallestColumn=Math.max(...e)}get masonryStyle(){return(0,i.htmlSafe)([".topic-list {",`--masonry-num-columns: ${Math.round(this.numColumns)};`,`--masonry-grid-spacing: ${this.gridSpacingPixels}px;`,`--masonry-tallest-column: ${Math.round(this.tallestColumn)}px;`,`--masonry-column-width: ${Math.round(this.columnWidth)}px;`,"}",...this.topicData.map(((t,i)=>[`.masonry-${i} {`,`--masonry-column-index: ${t.columnIndex};`,`--masonry-height: ${Math.round(t.height)}px;`,`--masonry-height-above: ${Math.round(t.heightAbove)}px;`,"}"].join("\n")))].join("\n"))}}})),"define"in window&&define("discourse/theme-11/discourse/services/topic-thumbnails",["exports","@glimmer/tracking","@ember/object/compat","@ember/service","discourse/lib/decorators","discourse/models/site"],(function(t,i,e,s,o,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
const l=require("discourse/lib/theme-settings-store").getObjectForTheme(11),a=l.minimal_grid_categories.split("|").map((t=>parseInt(t,10))),r=l.list_categories.split("|").map((t=>parseInt(t,10))),c=l.grid_categories.split("|").map((t=>parseInt(t,10))),d=l.masonry_categories.split("|").map((t=>parseInt(t,10))),u=l.blog_style_categories.split("|").map((t=>parseInt(t,10))),m=l.minimal_grid_tags.split("|"),p=l.list_tags.split("|"),h=l.grid_tags.split("|"),y=l.masonry_tags.split("|"),b=l.blog_style_tags.split("|")
class g extends s.default{static#t=(()=>dt7948.g(this.prototype,"router",[s.service]))()
#s=(()=>{dt7948.i(this,"router")})()
static#e=(()=>dt7948.g(this.prototype,"discovery",[s.service]))()
#o=(()=>{dt7948.i(this,"discovery")})()
static#n=(()=>dt7948.g(this.prototype,"masonryContainerWidth",[i.tracked]))()
#l=(()=>{dt7948.i(this,"masonryContainerWidth")})()
get isTopicListRoute(){return this.discovery.onDiscoveryRoute}static#a=(()=>dt7948.n(this.prototype,"isTopicListRoute",[e.dependentKeyCompat]))()
isTopicRoute(t){return t.match(/^topic\./)}static#r=(()=>dt7948.n(this.prototype,"isTopicRoute",[(0,o.default)("router.currentRouteName")]))()
isDocsRoute(t){return t.match(/^docs\./)}static#c=(()=>dt7948.n(this.prototype,"isDocsRoute",[(0,o.default)("router.currentRouteName")]))()
get viewingCategoryId(){return this.discovery.category?.id}static#d=(()=>dt7948.n(this.prototype,"viewingCategoryId",[e.dependentKeyCompat]))()
get viewingTagId(){return this.discovery.tag?.id}static#u=(()=>dt7948.n(this.prototype,"viewingTagId",[e.dependentKeyCompat]))()
displayMode(t,i,e,s,o,n){return e||(a.includes(t)?"minimal-grid":u.includes(t)?"blog-style":d.includes(t)?"masonry":c.includes(t)?"grid":r.includes(t)?"list":y.includes(i)?"masonry":m.includes(i)?"minimal-grid":b.includes(i)?"blog-style":h.includes(i)?"grid":p.includes(i)?"list":o&&l.suggested_topics_mode?l.suggested_topics_mode:s||l.enable_outside_topic_lists?l.default_thumbnail_mode:n?l.docs_thumbnail_mode:"none")}static#m=(()=>dt7948.n(this.prototype,"displayMode",[(0,o.default)("viewingCategoryId","viewingTagId","router.currentRoute.metadata.customThumbnailMode","isTopicListRoute","isTopicRoute","isDocsRoute")]))()
enabledForRoute(t){return"none"!==t}static#p=(()=>dt7948.n(this.prototype,"enabledForRoute",[(0,o.default)("displayMode")]))()
enabledForDevice(){return!n.default.current().mobileView||l.mobile_thumbnails}static#h=(()=>dt7948.n(this.prototype,"enabledForDevice",[(0,o.default)()]))()
shouldDisplay(t,i){return t&&i}static#y=(()=>dt7948.n(this.prototype,"shouldDisplay",[(0,o.default)("enabledForRoute","enabledForDevice")]))()
displayMinimalGrid(t,i){return t&&"minimal-grid"===i}static#b=(()=>dt7948.n(this.prototype,"displayMinimalGrid",[(0,o.default)("shouldDisplay","displayMode")]))()
displayList(t,i){return t&&"list"===i}static#g=(()=>dt7948.n(this.prototype,"displayList",[(0,o.default)("shouldDisplay","displayMode")]))()
displayGrid(t,i){return t&&"grid"===i}static#_=(()=>dt7948.n(this.prototype,"displayGrid",[(0,o.default)("shouldDisplay","displayMode")]))()
displayMasonry(t,i){return t&&"masonry"===i}static#f=(()=>dt7948.n(this.prototype,"displayMasonry",[(0,o.default)("shouldDisplay","displayMode")]))()
displayBlogStyle(t,i){return t&&"blog-style"===i}static#v=(()=>dt7948.n(this.prototype,"displayBlogStyle",[(0,o.default)("shouldDisplay","displayMode")]))()
showLikes(t){return t}static#T=(()=>dt7948.n(this.prototype,"showLikes",[(0,o.default)("displayMinimalGrid","displayBlogStyle")]))()}t.default=g}))

//# sourceMappingURL=04363466a0652a921e8dc0b4c95df2d077202adc.map?__ws=forums.unrealengine.com
